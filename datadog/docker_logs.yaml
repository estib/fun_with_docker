init_config:

instances:
  [{}]

logs:
    - type: docker
      image: elasticsearch:6.0.1
      source: elasticsearch
      service: elasticsearch

    - type: docker
      image: mysql
      source: mysql
      service: mysql

    - type: docker
      image: nginx
      source: nginx
      service: nginx

    - type: docker
      image: redis
      source: redis
      service: redis

    - type: docker
      image: postgres
      source: postgresql
      service: postgresql
      log_processing_rules:
         - type: multi_line
           pattern: \d{4}\-(0?[1-9]|1[012])\-(0?[1-9]|[12][0-9]|3[01])
           name: new_log_start_with_date

    - type: docker
      image: flask
      source: python
      service: flask

    - type: docker
      image: account_keeper_nginx_stress_test
      source: python
      service: siege

    - type: docker
      image: account_keeper_mysql_stress_test
      source: python
      service: mysql-client
      log_processing_rules:
        - type: include_at_match
          name: only_take_mysql_logs
          pattern: mysql:.*
